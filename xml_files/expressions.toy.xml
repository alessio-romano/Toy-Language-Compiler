<?xml version="1.0" encoding="UTF-8"?>
<ProgramOp>
  <VarDeclList>
    <VarDeclOp>
      <TypeOp>int</TypeOp>
      <IdListInitOp>
        <IdList>
          <SimpleAssignOp>
            <id>op</id>
            <IntConst>1</IntConst>
          </SimpleAssignOp>
        </IdList>
      </IdListInitOp>
    </VarDeclOp>
  </VarDeclList>
  <ProcOpList>
    <ProcOp>
      <id>main</id>
      <ParamDeclList>null</ParamDeclList>
      <ResultTypeList>
        <ResultTypeOp>void</ResultTypeOp>
      </ResultTypeList>
      <ProcBodyOp>
        <VarDeclList>
          <VarDeclOp>
            <TypeOp>int</TypeOp>
            <IdListInitOp>
              <IdList>
                <id>i_left</id>
                <id>i_right</id>
                <id>i_result</id>
                <id>opType</id>
              </IdList>
            </IdListInitOp>
          </VarDeclOp>
          <VarDeclOp>
            <TypeOp>float</TypeOp>
            <IdListInitOp>
              <IdList>
                <id>f_left</id>
                <id>f_right</id>
                <id>f_result</id>
              </IdList>
            </IdListInitOp>
          </VarDeclOp>
        </VarDeclList>
        <StatList>
          <WhileOp>
            <StatList>
              <WriteOp>
                <ExprList>
                  <StringConst>Premere 0 per chiudere il programma oppure</StringConst>
                </ExprList>
              </WriteOp>
              <WriteOp>
                <ExprList>
                  <StringConst>scegli l'operazione da effettuare: 2 = somma, 3 = sottrazione, 4 = moltiplicazione, 5 = divisione</StringConst>
                </ExprList>
              </WriteOp>
              <ReadOp>
                <IdList>
                  <id>op</id>
                </IdList>
              </ReadOp>
            </StatList>
            <NeOp>
              <id>op</id>
              <IntConst>0</IntConst>
            </NeOp>
            <DoOp>
              <StatList>
                <WriteOp>
                  <ExprList>
                    <StringConst>Tipo di operazione: 0 = operazione tra int, 1 = operazione tra float</StringConst>
                  </ExprList>
                </WriteOp>
                <ReadOp>
                  <IdList>
                    <id>opType</id>
                  </IdList>
                </ReadOp>
                <WriteOp>
                  <ExprList>
                    <StringConst>Scegli il primo valore</StringConst>
                  </ExprList>
                </WriteOp>
                <IfOp>
                  <EqOp>
                    <id>opType</id>
                    <IntConst>0</IntConst>
                  </EqOp>
                  <StatList>
                    <ReadOp>
                      <IdList>
                        <id>i_left</id>
                      </IdList>
                    </ReadOp>
                    <WriteOp>
                      <ExprList>
                        <StringConst>Scegli il secondo valore</StringConst>
                      </ExprList>
                    </WriteOp>
                    <ReadOp>
                      <IdList>
                        <id>i_right</id>
                      </IdList>
                    </ReadOp>
                    <MultipleAssignOp>
                      <IdList>
                        <id>i_result</id>
                      </IdList>
                      <ExprList>
                        <CallProcOp>
                          <id>i_expr</id>
                          <ExprList>
                            <id>i_left</id>
                            <id>i_right</id>
                          </ExprList>
                        </CallProcOp>
                      </ExprList>
                    </MultipleAssignOp>
                    <WriteOp>
                      <ExprList>
                        <StringConst>Il risultato è</StringConst>
                        <id>i_result</id>
                        <StringConst />
                      </ExprList>
                    </WriteOp>
                  </StatList>
                  <ElifList>null</ElifList>
                  <ElseOp>
                    <StatList>
                      <ReadOp>
                        <IdList>
                          <id>f_left</id>
                        </IdList>
                      </ReadOp>
                      <WriteOp>
                        <ExprList>
                          <StringConst>Scegli il secondo valore</StringConst>
                        </ExprList>
                      </WriteOp>
                      <ReadOp>
                        <IdList>
                          <id>f_right</id>
                        </IdList>
                      </ReadOp>
                      <MultipleAssignOp>
                        <IdList>
                          <id>f_result</id>
                        </IdList>
                        <ExprList>
                          <CallProcOp>
                            <id>f_expr</id>
                            <ExprList>
                              <id>f_left</id>
                              <id>f_right</id>
                            </ExprList>
                          </CallProcOp>
                        </ExprList>
                      </MultipleAssignOp>
                      <WriteOp>
                        <ExprList>
                          <StringConst>Il risultato è</StringConst>
                          <id>f_result</id>
                          <StringConst />
                        </ExprList>
                      </WriteOp>
                    </StatList>
                  </ElseOp>
                </IfOp>
              </StatList>
            </DoOp>
          </WhileOp>
        </StatList>
        <ReturnExprs>null</ReturnExprs>
      </ProcBodyOp>
    </ProcOp>
    <ProcOp>
      <id>f_expr</id>
      <ParamDeclList>
        <ParamDeclOp>
          <TypeOp>float</TypeOp>
          <IdList>
            <id>left</id>
            <id>right</id>
          </IdList>
        </ParamDeclOp>
      </ParamDeclList>
      <ResultTypeList>
        <ResultTypeOp>float</ResultTypeOp>
      </ResultTypeList>
      <ProcBodyOp>
        <VarDeclList>
          <VarDeclOp>
            <TypeOp>float</TypeOp>
            <IdListInitOp>
              <IdList>
                <id>result</id>
              </IdList>
            </IdListInitOp>
          </VarDeclOp>
        </VarDeclList>
        <StatList>
          <IfOp>
            <EqOp>
              <id>op</id>
              <IntConst>2</IntConst>
            </EqOp>
            <StatList>
              <MultipleAssignOp>
                <IdList>
                  <id>result</id>
                </IdList>
                <ExprList>
                  <PlusOp>
                    <id>left</id>
                    <id>right</id>
                  </PlusOp>
                </ExprList>
              </MultipleAssignOp>
            </StatList>
            <ElifList>
              <ElifOp>
                <EqOp>
                  <id>op</id>
                  <IntConst>3</IntConst>
                </EqOp>
                <StatList>
                  <MultipleAssignOp>
                    <IdList>
                      <id>result</id>
                    </IdList>
                    <ExprList>
                      <MinusOp>
                        <id>left</id>
                        <id>right</id>
                      </MinusOp>
                    </ExprList>
                  </MultipleAssignOp>
                </StatList>
              </ElifOp>
              <ElifOp>
                <EqOp>
                  <id>op</id>
                  <IntConst>4</IntConst>
                </EqOp>
                <StatList>
                  <MultipleAssignOp>
                    <IdList>
                      <id>result</id>
                    </IdList>
                    <ExprList>
                      <MultOp>
                        <id>left</id>
                        <id>right</id>
                      </MultOp>
                    </ExprList>
                  </MultipleAssignOp>
                </StatList>
              </ElifOp>
              <ElifOp>
                <EqOp>
                  <id>op</id>
                  <IntConst>5</IntConst>
                </EqOp>
                <StatList>
                  <MultipleAssignOp>
                    <IdList>
                      <id>result</id>
                    </IdList>
                    <ExprList>
                      <DivOp>
                        <id>left</id>
                        <id>right</id>
                      </DivOp>
                    </ExprList>
                  </MultipleAssignOp>
                </StatList>
              </ElifOp>
            </ElifList>
            <ElseOp>null</ElseOp>
          </IfOp>
        </StatList>
        <ReturnExprs>
          <ExprList>
            <id>result</id>
          </ExprList>
        </ReturnExprs>
      </ProcBodyOp>
    </ProcOp>
    <ProcOp>
      <id>i_expr</id>
      <ParamDeclList>
        <ParamDeclOp>
          <TypeOp>int</TypeOp>
          <IdList>
            <id>left</id>
            <id>right</id>
          </IdList>
        </ParamDeclOp>
      </ParamDeclList>
      <ResultTypeList>
        <ResultTypeOp>int</ResultTypeOp>
      </ResultTypeList>
      <ProcBodyOp>
        <VarDeclList>
          <VarDeclOp>
            <TypeOp>int</TypeOp>
            <IdListInitOp>
              <IdList>
                <id>result</id>
              </IdList>
            </IdListInitOp>
          </VarDeclOp>
        </VarDeclList>
        <StatList>
          <IfOp>
            <EqOp>
              <id>op</id>
              <IntConst>2</IntConst>
            </EqOp>
            <StatList>
              <MultipleAssignOp>
                <IdList>
                  <id>result</id>
                </IdList>
                <ExprList>
                  <PlusOp>
                    <id>left</id>
                    <id>right</id>
                  </PlusOp>
                </ExprList>
              </MultipleAssignOp>
            </StatList>
            <ElifList>
              <ElifOp>
                <EqOp>
                  <id>op</id>
                  <IntConst>3</IntConst>
                </EqOp>
                <StatList>
                  <MultipleAssignOp>
                    <IdList>
                      <id>result</id>
                    </IdList>
                    <ExprList>
                      <MinusOp>
                        <id>left</id>
                        <id>right</id>
                      </MinusOp>
                    </ExprList>
                  </MultipleAssignOp>
                </StatList>
              </ElifOp>
              <ElifOp>
                <EqOp>
                  <id>op</id>
                  <IntConst>4</IntConst>
                </EqOp>
                <StatList>
                  <MultipleAssignOp>
                    <IdList>
                      <id>result</id>
                    </IdList>
                    <ExprList>
                      <MultOp>
                        <id>left</id>
                        <id>right</id>
                      </MultOp>
                    </ExprList>
                  </MultipleAssignOp>
                </StatList>
              </ElifOp>
              <ElifOp>
                <EqOp>
                  <id>op</id>
                  <IntConst>5</IntConst>
                </EqOp>
                <StatList>
                  <MultipleAssignOp>
                    <IdList>
                      <id>result</id>
                    </IdList>
                    <ExprList>
                      <DivOp>
                        <id>left</id>
                        <id>right</id>
                      </DivOp>
                    </ExprList>
                  </MultipleAssignOp>
                </StatList>
              </ElifOp>
            </ElifList>
            <ElseOp>null</ElseOp>
          </IfOp>
        </StatList>
        <ReturnExprs>
          <ExprList>
            <id>result</id>
          </ExprList>
        </ReturnExprs>
      </ProcBodyOp>
    </ProcOp>
  </ProcOpList>
</ProgramOp>
